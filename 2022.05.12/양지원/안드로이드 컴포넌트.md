# 안드로이드 컴포넌트



## Component란?

- 컴포넌트 : 앱의 구성 단위, 컴포넌트 여러 개를 조합하여 하나의 앱을 만듬
- 안드로이드 애플리케이션을 구성하는 기본 요소 4가지 - 안드로이드 4대 컴포넌트

- 각 컴포넌트는 앱 내에서 하나의 독립된 형태로 존재
- 직접 개발자 코드로 생성해서 실행 가능
- 각 컴포넌트들은 인텐트(Intent)를 통해 서로 상호작용

![img](https://velog.velcdn.com/images%2Fjojo_devstory%2Fpost%2F9138556b-4a4c-4c48-a6dc-c9abc34e9b46%2F%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202020-03-06%20%EC%98%A4%EC%A0%84%2011.51.43.png)



**종류**

- **액티비티** : UI를 구성하기 위한 컴포넌트
- **서비스** : UI 없이 백그라운드에서 장시간 수행되는 컴포넌트
- **콘텐츠 프로바이더** : 애플리케이션 간 데이터를 공유하기 위한 컴포넌트
- **브로드캐스트 리시버** : 이벤트 모델로 수행되는 컴포넌트





------





### Activity (액티비티)

- 애플리케이션에서 사용자에게 보여지는 화면을 담당하는 컴포넌트
- 즉, 사용자와 상호작용 담당
- 액티비티는 **생명주기**를 가지며 이를 이용해(재정의) 원하는 기능을 구현

> 생명주기(LifeCycle)
>
> - 생명주기에 따라 적절한 메소드가 호출
> - 액티비티 생명주기는 onCreate() -> onStart() -> onResume() -> onPause() -> onStop() -> onDestory() 순으로 실행됨
> - 액티비티는 **전체(entire), 가시적(visible), 포그라운드(foreground)의 세 가지 생애**를 번갈아가며 반복함



#### 특징

1. 하나의 앱에 반드시 하나 이상의 액티비티가 존재해야 한다.
2. 두개의 액티비티를 동시에 보여줄 수 없다.
3. 액티비티 내에서 프래그먼트(Fragment)를 통해 분할화면을 보여줄 수 있다.
4. 다른 어플리케이션의 액티비티도 불러낼 수 있다.
5. 액티비티 이동시 플래그를 주거나, 이전 액티비티를 종료하지 않을 경우 스택 구조로 쌓이게 된다.

> 플래그?
>
> - 안드로이드에서 Activity를 호출하다보면 발생하는 Activity의 중복문제나 흐름을 제어해주고 싶을 때 사용
> - 인텐트 플래그라고도 불리는 플래그를 쓰면, 액티비티 스택에 어떤 액티비티가 무슨 액티비티의 위에 있건 아래에 있건 상관없이 원하는 액티비티를 불러올 수도 있고, 액티비티 스택에 들어있는 액티비티들을 전부 지운 다음 호출하는 액티비티부터 스택에 채우도록 할 수도 있음







### Service (서비스)

- 백그라운드에서 실행되는 프로세스
- 화면이 존재하지 않음
- 새로 생성할 때 항상 매니페스트에 등록을 해야 함 ( <service>태그 사용)
- 메인 액티비티에서 서비스를 시작하고 싶은 경우에는 startService()라는 메서드를 이용해 서비스를 실행

![서비스](https://t1.daumcdn.net/cfile/tistory/992373415B47285725)

#### 서비스 특징

1. 한번 시작된 서비스는 어플리케이션이 종료되도 계속해서 백그라운드에서 돌아간다.

2. 모든 서비스는 Service클래스를 상속받아서 사용한다.

3. 네트워크를 통해서 데이터를 가져올 수 있다.

4. 매니패스트 옵션으로 export, enable 두 개가 있다.

   ```export = 앱 외부에서 접근 가능한가, enable = 서비스가 인스턴스화 가능한가```







### Broadcast Receiver (브로드캐스트 수신자)

- 안드로이드에서 다양한 이벤트와 정보를 받아 반응하는 컴포넌트
- BroadcastReceiver 라는 class를 상속받아 사용

![방송수신자](https://t1.daumcdn.net/cfile/tistory/99B88D365B47328619)

#### 방송 수신자 특징

1. 사용자가 설정한 어떠한 이벤트가 발생하였을 시 알려준다.

2. 수신기를 통해 디바이스의 상황을 감지하고 적절한 작업을 수행한다.

3. 대부분 UI가 존재하지 않는다.

4. 정적 브로드캐스트와 동적 브로드캐스트가 있다

   > 정적 - 매니패스트에 등록하는 방송 수신자
   >
   > 동적 - 콘텍스트에 등록하는 방송 수신자







### Content Provider (콘텐츠 제공자)

- 중앙 저장소의 역할, 데이터 액세스를 관리

- 다른 어플리케이션 데이터를 제공
- 주로 데이터베이스의 데이터를 전달할때 많이 사용됨 (데이터 공유)

![img](https://blog.kakaocdn.net/dn/3UOnW/btqSTJkvh2Q/hn4QlJIV48ZilKFc47sY31/img.png)

#### 콘텐트 제공자 특징

1. 생명주기를 가지고 있지 않는다.
2. 데이터베이스(Sqllite), 파일입출력, Web등을 통해서 데이터를 관리한다.
3. 콘텐트 제공자를 통해 다른 어플리케이션의 데이터도 변경 가능하다.
4. 반대로 외부 애플리케이션이 데이터베이스(DB)에 함부로 접근하지 못하게 할 수 있으면서, 자신이 공개하고 공유하고 싶은 데이터만 공유할 수 있도록 도와준다.
5.  작은 데이터들은 인텐트(Intent)로 애플리케이션끼리 데이터를 서로 공유가 가능하지만 콘텐 프로바이더는 음악 또는 사진 파일 등과 같이 용량이 큰 데이터들을 공유하는데 적합하다.
6. 데이터베이스에서 흔히 사용되는 CURD(Create, Read, Update, Delete) 원칙을 준수한다.